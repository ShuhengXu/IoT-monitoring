{"ast":null,"code":"var _jsxFileName = \"/Users/xu/project/IoT-monitoring/frontend/src/AskPanel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuestionBox = () => {\n  _s();\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const handleAsk = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    setAnswer('');\n    setError('');\n    try {\n      const response = await fetch('http://localhost:5001/api/ask', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          question\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setAnswer(data.answer);\n      } else {\n        setError(data.error || 'Server error!');\n      }\n    } catch (err) {\n      setError('Connection failed!');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    style: {\n      marginTop: '3rem',\n      padding: '2rem',\n      maxWidth: '600px',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      backgroundColor: '#f7f9fc',\n      borderRadius: '12px',\n      boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: '1.0rem',\n        marginBottom: '1rem',\n        color: '#333'\n      },\n      children: \"\\uD83E\\uDD16 AI Assist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '1rem',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: question,\n        onChange: e => setQuestion(e.target.value),\n        placeholder: \"Enter your question...\",\n        style: {\n          flex: 1,\n          padding: '0.6rem 1rem',\n          fontSize: '1rem',\n          borderRadius: '8px',\n          border: '1px solid #ccc',\n          outline: 'none',\n          transition: 'border 0.2s'\n        },\n        onFocus: e => e.currentTarget.style.border = '1px solid #007bff',\n        onBlur: e => e.currentTarget.style.border = '1px solid #ccc'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAsk,\n        disabled: loading,\n        style: {\n          padding: '0.6rem 1.2rem',\n          fontSize: '1rem',\n          borderRadius: '8px',\n          backgroundColor: loading ? '#999' : '#007bff',\n          color: 'white',\n          border: 'none',\n          cursor: loading ? 'not-allowed' : 'pointer',\n          transition: 'background-color 0.2s'\n        },\n        children: loading ? 'Thinking...' : 'Ask'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), answer && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1.5rem',\n        backgroundColor: '#e6ffed',\n        padding: '1rem',\n        borderLeft: '4px solid #28a745',\n        borderRadius: '6px',\n        color: '#155724'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"AI Answer:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '0.5rem',\n          whiteSpace: 'pre-line'\n        },\n        children: answer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1rem',\n        backgroundColor: '#ffe6e6',\n        padding: '1rem',\n        borderLeft: '4px solid #dc3545',\n        borderRadius: '6px',\n        color: '#721c24'\n      },\n      children: [\"\\u2757 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Error:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 23\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(QuestionBox, \"z5Rqw6S91Pm9ykqwDb2yVhUPUdA=\");\n_c = QuestionBox;\nexport default QuestionBox;\nvar _c;\n$RefreshReg$(_c, \"QuestionBox\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","QuestionBox","_s","question","setQuestion","answer","setAnswer","loading","setLoading","error","setError","handleAsk","trim","response","fetch","method","headers","body","JSON","stringify","data","json","ok","err","style","marginTop","padding","maxWidth","marginLeft","marginRight","backgroundColor","borderRadius","boxShadow","children","fontSize","marginBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","alignItems","type","value","onChange","e","target","placeholder","flex","border","outline","transition","onFocus","currentTarget","onBlur","onClick","disabled","cursor","borderLeft","whiteSpace","_c","$RefreshReg$"],"sources":["/Users/xu/project/IoT-monitoring/frontend/src/AskPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst QuestionBox: React.FC = () => {\n    const [question, setQuestion] = useState('');\n    const [answer, setAnswer] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleAsk = async () => {\n        if (!question.trim()) return;\n\n        setLoading(true);\n        setAnswer('');\n        setError('');\n\n        try {\n            const response = await fetch('http://localhost:5001/api/ask', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ question }),\n            });\n\n            const data = await response.json();\n            if (response.ok) {\n                setAnswer(data.answer);\n            } else {\n                setError(data.error || 'Server error!');\n            }\n        } catch (err) {\n            setError('Connection failed!');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <section\n            style={{\n                marginTop: '3rem',\n                padding: '2rem',\n                maxWidth: '600px',\n                marginLeft: 'auto',\n                marginRight: 'auto',\n                backgroundColor: '#f7f9fc',\n                borderRadius: '12px',\n                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n            }}\n        >\n            <h2 style={{ fontSize: '1.0rem', marginBottom: '1rem', color: '#333' }}>\n                🤖 AI Assist\n            </h2>\n            <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n                <input\n                    type=\"text\"\n                    value={question}\n                    onChange={(e) => setQuestion(e.target.value)}\n                    placeholder=\"Enter your question...\"\n                    style={{\n                        flex: 1,\n                        padding: '0.6rem 1rem',\n                        fontSize: '1rem',\n                        borderRadius: '8px',\n                        border: '1px solid #ccc',\n                        outline: 'none',\n                        transition: 'border 0.2s',\n                    }}\n                    onFocus={(e) => e.currentTarget.style.border = '1px solid #007bff'}\n                    onBlur={(e) => e.currentTarget.style.border = '1px solid #ccc'}\n                />\n                <button\n                    onClick={handleAsk}\n                    disabled={loading}\n                    style={{\n                        padding: '0.6rem 1.2rem',\n                        fontSize: '1rem',\n                        borderRadius: '8px',\n                        backgroundColor: loading ? '#999' : '#007bff',\n                        color: 'white',\n                        border: 'none',\n                        cursor: loading ? 'not-allowed' : 'pointer',\n                        transition: 'background-color 0.2s'\n                    }}\n                >\n                    {loading ? 'Thinking...' : 'Ask'}\n                </button>\n            </div>\n\n            {answer && (\n                <div\n                    style={{\n                        marginTop: '1.5rem',\n                        backgroundColor: '#e6ffed',\n                        padding: '1rem',\n                        borderLeft: '4px solid #28a745',\n                        borderRadius: '6px',\n                        color: '#155724'\n                    }}\n                >\n                    <strong>AI Answer:</strong>\n                    <p style={{ marginTop: '0.5rem', whiteSpace: 'pre-line' }}>{answer}</p>\n                </div>\n            )}\n\n            {error && (\n                <div\n                    style={{\n                        marginTop: '1rem',\n                        backgroundColor: '#ffe6e6',\n                        padding: '1rem',\n                        borderLeft: '4px solid #dc3545',\n                        borderRadius: '6px',\n                        color: '#721c24'\n                    }}\n                >\n                    ❗ <strong>Error:</strong> {error}\n                </div>\n            )}\n        </section>\n    );\n};\n\nexport default QuestionBox;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}